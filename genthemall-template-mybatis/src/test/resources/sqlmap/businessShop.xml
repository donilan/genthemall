<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.ii2d.model">

	<!-- result map for com.ii2d.BusinessShop -->
	<resultMap type="com.ii2d.model.BusinessShop" id="businessShop">
	<result column="shop_id" property="shopId" javaType="java.lang.Integer"/>
	<result column="tmp_name" property="tmpName" javaType="java.lang.String"/>
	</resultMap>
	

	<select id="select_BusinessShop" resultMap="businessShop" >
		SELECT * FROM business_shop
		<trim prefix="WHERE" prefixOverrides="OR|AND">
			
			<if test="orEq.shopId != null">OR shop_id = #{orEq.shopId}</if>
			<if test="orLike.shopId != null">OR shop_id LIKE concat('%', #{orLike.shopId}, '%')</if>
			<if test="andEq.shopId != null">AND shop_id = #{andEq.shopId}</if>
			<if test="andLike.shopId != null">AND shop_id LIKE concat('%', #{andLike.shopId}, '%')</if>
			
			<if test="orEq.tmpName != null">OR tmp_name = #{orEq.tmpName}</if>
			<if test="orLike.tmpName != null">OR tmp_name LIKE concat('%', #{orLike.tmpName}, '%')</if>
			<if test="andEq.tmpName != null">AND tmp_name = #{andEq.tmpName}</if>
			<if test="andLike.tmpName != null">AND tmp_name LIKE concat('%', #{andLike.tmpName}, '%')</if>
			
			AND null
		</trim>
		<choose>
			<when test="limitStartRow gt -1 and limitEndRow gt 0" >
				LIMIT #{limitStartRow}, #{limitEndRow}
			</when>
			<when test="orderBy.size gt 0">
				ORDER BY 
				<trim suffixOverrides=",">
					<foreach collection="orderBy" item="it">${it}, </foreach>
				</trim>
			</when>
		</choose>
	</select>
	<!-- Count table. -->
	<select id="count_BusinessShop" resultType="java.lang.Long">
		SELECT COUNT(1) FROM business_shop
		<trim prefix="WHERE" prefixOverrides="OR|AND">
			
			<if test="orEq.shopId != null">OR shop_id = #{orEq.shopId}</if>
			<if test="orLike.shopId != null">OR shop_id LIKE concat('%', #{orLike.shopId}, '%')</if>
			<if test="andEq.shopId != null">AND shop_id = #{andEq.shopId}</if>
			<if test="andLike.shopId != null">AND shop_id LIKE concat('%', #{andLike.shopId}, '%')</if>
			
			<if test="orEq.tmpName != null">OR tmp_name = #{orEq.tmpName}</if>
			<if test="orLike.tmpName != null">OR tmp_name LIKE concat('%', #{orLike.tmpName}, '%')</if>
			<if test="andEq.tmpName != null">AND tmp_name = #{andEq.tmpName}</if>
			<if test="andLike.tmpName != null">AND tmp_name LIKE concat('%', #{andLike.tmpName}, '%')</if>
			
			AND null
		</trim>
	</select>
	
	<insert id="insert_BusinessShop" parameterType="com.ii2d.model.BusinessShop">
		INSERT INTO business_shop (shop_id, tmp_name)
		VALUES (#{shopId}
			, #{tmpName}
			)
		
	</insert>

	

</mapper>